<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Customer Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../src/main/java/lk/easycar/assets/styles/stylesheet.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

</head>
<body>

<section id="sideContainerInCustomer" class="position-absolute top-10 start-75 translate-middle" style="left: 70%;top: -22%;transform: translate(-50%,57%)!important;">
    <section id="customerManagerForm" class="position-absolute top-10 start-75 translate-middle" style="transform: translate(-50%,57%)!important;">
        <form id="customerForm" class="container text-center">
            <h2>Customer Management Form</h2>
            <div class="row g-2">
                <div class="form-floating mb-3 col-6">
                    <input type="text" class="form-control" id="txtNic" placeholder="NIC : " name="nic">
                    <label for="txtNic">NIC : </label>
                </div>
                <div class="form-floating mb-3 col-6">
                    <input type="text" class="form-control" id="txtName" placeholder="Name :" name="name">
                    <label for="txtName">Name :</label>
                </div>
                <div class="form-floating mb-3 col-6">
                    <input type="text" class="form-control" id="txtAddress" placeholder="address" name="address">
                    <label for="txtAddress">Address</label>
                </div>
                <div class="form-floating mb-3 col-6">
                    <input type="text" class="form-control" id="txtDrivingLicense" placeholder="1003265498" name="license">
                    <label for="txtDrivingLicense">Driving License</label>
                </div>
                <div class="form-floating mb-3 col-6">
                    <input type="text" class="form-control" id="txtContact" placeholder="07111222444" name="contact">
                    <label for="txtContact">Contact No :</label>
                </div>
                <div class="form-floating mb-3 col-6">
                    <input type="password" class="form-control" id="txtPassword" placeholder="07111222444" name="password">
                    <label for="txtContact">Password :</label>
                </div>
                <div class="form-group mb-3 col-6">
                    <label for="uploadNicField">Upload NIC License : </label>
                    <input type="file" class="form-control-file" id="uploadNicField" name="nicImage">
                </div>
                <div class="form-group mb-3 col-6">
                    <label for="uploadLicenseField">Upload Driving License</label>
                    <input type="file" class="form-control-file" id="uploadLicenseField">
                </div>
                <button id="btnCustomerAdd" type="button" class="position-absolute btn btn-primary form-group mb-3 col-6" style="width: 38vw">Save</button>

            </div>

        </form>


    </section>
</section>

<table class="table">
    <thead class="table-light">
    ...
    </thead>
    <tbody>
    ...
    </tbody>
</table>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>

<script>
    let baseUrl = "http://localhost:8080/cw/"


    $('#btnCustomerAdd').click(function () {
       alert("save customer") ;
       let formData = $('#customerForm').serialize();

       $.ajax({
           url:baseUrl+"customer",
           method:"post",
           data:formData,
           dataType:"json",
           success:function (res) {
               res.message;
           },
           error:function (error) {
               alert(JSON.parse(error.responseText).message);
           }
       });
    });


</script>

</body>
</html>