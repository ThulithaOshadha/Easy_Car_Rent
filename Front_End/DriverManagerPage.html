<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Driver Manager</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../src/main/java/lk/easycar/assets/styles/stylesheet.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

</head>
<body>
<!--Header-->
<header>
  <ul class="nav justify-content-end shadow p-1 mb-3 bg-e74c3c">
    <li class="nav-item">
      <a class="nav-link active" aria-current="page" href="#">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">About</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">Cars</a>
    </li>
    <li>
      <nav class="navbar bg-body-tertiary">
        <form class="container-fluid justify-content-start">
          <button id="loginButtonInHome" class="btn btn-sm btn-outline-secondary" type="button"><a href="login.html">Log In</a></button>
        </form>
      </nav>
    </li>
  </ul>


</header>
<!--Driver Slider-->
<img src="../java/lk/easycar/assets/car1.jpg" class="img-thumbnail" style="position: relative; width: 30vw;height: 90vh;left: 200px" alt="car">

<!--Driver Form-->
<section id="sideContainerInDriver" class="position-absolute top-10 start-75 translate-middle" style="    left: 62%;
    bottom: 55%;;transform: translate(-50%,57%)!important;">
  <section id="driverManagerForm" class="position-absolute top-10 start-75 translate-middle" style="transform: translate(-50%,57%)!important;">
    <h2 class="mb-3">Driver Management Form</h2>
    <form id="driverForm" action="">
      <div class="form-floating mb-3">
        <input type="text" class="form-control" id="txtName" placeholder="name" name="name">
        <label for="txtName">Name</label>
      </div>
      <div class="form-floating mb-3">
        <input type="text" class="form-control" id="txtAddress" placeholder="address" name="address">
        <label for="txtAddress">Address</label>
      </div>
      <div class="form-floating mb-3">
        <input type="text" class="form-control" id="txtDrivingLicense" placeholder="1003265498" name="license">
        <label for="txtDrivingLicense">Driving License</label>
      </div>
      <div class="form-floating mb-3">
        <input type="text" class="form-control" id="txtContact" placeholder="07111222444" name="contact">
        <label for="txtContact">Contact No :</label>
      </div>
      <div class="form-group mb-3">
        <label for="exampleFormControlFile1">Upload Driving License</label>
        <input type="file" class="form-control-file" id="exampleFormControlFile1">
      </div>

      <button id="btnDriverSave" type="button" class="position-absolute top-110 start-40 btn btn-primary mb-2" style="width: 22vw">Save</button>

    </form>


  </section>
</section>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>

<script>
  let baseUrl = "http://localhost:8080/cw/"

  $('#btnDriverSave').click(function (){
    alert("saved driver");

    let formData = $('#driverForm').serialize();
    $.ajax({
      url:baseUrl+"driver",
      method:"post",
      data:formData,
      dataType:"json",
      success:function (res) {
        alert(res.message);

      },
      error:function (error) {
        alert(JSON.parse(error.responseText).message);
      }

    });

  });
</script>
</body>
</html>